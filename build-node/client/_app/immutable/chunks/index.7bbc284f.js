import{_ as L}from"./preload-helper.a4192956.js";import{w as j,d as P}from"./index.7f081118.js";import{U as p}from"./index.f212c07f.js";var ce=Object.defineProperty,ue=Object.defineProperties,de=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,z=(t,r,e)=>r in t?ce(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,u=(t,r)=>{for(var e in r||(r={}))Q.call(r,e)&&z(t,e,r[e]);if(D)for(var e of D(r))X.call(r,e)&&z(t,e,r[e]);return t},y=(t,r)=>ue(t,de(r)),T=(t,r)=>{var e={};for(var a in t)Q.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&D)for(var a of D(t))r.indexOf(a)<0&&X.call(t,a)&&(e[a]=t[a]);return e},F=["error","warn","debug"],Y=({logger:t=console,level:r=F[1],prefix:e="[i18n]: "})=>F.reduce((a,l,o)=>y(u({},a),{[l]:i=>F.indexOf(r)>=o&&t[l](`${e}${i}`)}),{}),d=Y({}),pe=t=>{d=t},H=t=>{var r=t,{parser:e,key:a,params:l,translations:o,locale:i,fallbackLocale:s}=r,c=T(r,["parser","key","params","translations","locale","fallbackLocale"]);if(!a)return d.warn(`No translation key provided ('${i}' locale). Skipping translation...`),"";if(!i)return d.warn(`No locale provided for '${a}' key. Skipping translation...`),"";let n=(o[i]||{})[a];if(s&&n===void 0&&(d.debug(`No translation provided for '${a}' key in locale '${i}'. Trying fallback '${s}'`),n=(o[s]||{})[a]),n===void 0){if(d.debug(`No translation provided for '${a}' key in fallback '${s}'.`),c.hasOwnProperty("fallbackValue"))return c.fallbackValue;d.warn(`No translation nor fallback found for '${a}' .`)}return e.parse(n,l,i,a)},g=(...t)=>t.length?t.filter(r=>!!r).map(r=>{let e=`${r}`.toLowerCase();try{let[a]=Intl.Collator.supportedLocalesOf(r);if(!a)throw new Error;e=a}catch{d.warn(`'${r}' locale is non-standard.`)}return e}):[],E=(t,r,e)=>{if(r&&Array.isArray(t))return t.map(a=>E(a,r));if(t&&typeof t=="object"){let a=Object.keys(t).reduce((l,o)=>{let i=t[o],s=e?`${e}.${o}`:`${o}`;return i&&typeof i=="object"&&!(r&&Array.isArray(i))?u(u({},l),E(i,r,s)):y(u({},l),{[s]:E(i,r)})},{});return Object.keys(a).length?a:null}return t},fe=t=>t.reduce((r,{key:e,data:a,locale:l})=>{if(!a)return r;let[o]=g(l),i=y(u({},r[o]||{}),{[e]:a});return y(u({},r),{[o]:i})},{}),he=async t=>{try{let r=await Promise.all(t.map(e=>{var a=e,{loader:l}=a,o=T(a,["loader"]);return new Promise(async i=>{let s;try{s=await l()}catch(c){d.error(`Failed to load translation. Verify your '${o.locale}' > '${o.key}' Loader.`),d.error(c)}i(y(u({loader:l},o),{data:s}))})}));return fe(r)}catch(r){d.error(r)}return{}},me=t=>r=>{try{if(typeof r=="string")return r===t;if(typeof r=="object")return r.test(t)}catch{d.error("Invalid route config!")}return!1},q=(t,r)=>{let e=!0;try{e=Object.keys(t).filter(a=>t[a]!==void 0).every(a=>t[a]===r[a])}catch{}return e},W=1e3*60*60*24,ye=class{constructor(r){this.cachedAt=0,this.loadedKeys={},this.currentRoute=j(),this.config=j(),this.isLoading=j(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(e,a)=>{let{fallbackLocale:l}=p(this.config),o=Array.from(this.promises).filter(i=>{let s=q({locale:g(e)[0],route:a},i);return l&&(s=s||q({locale:g(l)[0],route:a},i)),s}).map(({promise:i})=>i);return Promise.all(o)},get:()=>p(this.isLoading)},this.privateRawTranslations=j({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>p(this.rawTranslations)},this.privateTranslations=j({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>p(this.translations)},this.locales=y(u({},P([this.config,this.privateTranslations],([e,a])=>{if(!e)return[];let{loaders:l=[]}=e,o=l.map(({locale:s})=>s),i=Object.keys(a).map(s=>s);return Array.from(new Set([...g(...o),...g(...i)]))},[])),{get:()=>p(this.locales)}),this.internalLocale=j(),this.loaderTrigger=P([this.internalLocale,this.currentRoute],([e,a],l)=>{var o,i;e!==void 0&&a!==void 0&&!(e===((o=p(this.loaderTrigger))==null?void 0:o[0])&&a===((i=p(this.loaderTrigger))==null?void 0:i[1]))&&(d.debug("Triggering translation load..."),l([e,a]))},[]),this.localeHelper=j(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>p(this.locale)},this.initialized=P([this.locale,this.currentRoute,this.privateTranslations],([e,a,l],o)=>{p(this.initialized)||o(e!==void 0&&a!==void 0&&!!Object.keys(l).length)}),this.translation=P([this.privateTranslations,this.locale,this.isLoading],([e,a,l],o)=>{let i=e[a];i&&Object.keys(i).length&&!l&&o(i)},{}),this.t=y(u({},P([this.config,this.translation],e=>{var[a]=e,l=a,{parser:o,fallbackLocale:i}=l,s=T(l,["parser","fallbackLocale"]);return(c,...n)=>H(u({parser:o,key:c,params:n,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:i},s.hasOwnProperty("fallbackValue")?{fallbackValue:s.fallbackValue}:{}))})),{get:(e,...a)=>p(this.t)(e,...a)}),this.l=y(u({},P([this.config,this.translations],e=>{var[a,...l]=e,o=a,{parser:i,fallbackLocale:s}=o,c=T(o,["parser","fallbackLocale"]),[n]=l;return(f,h,...b)=>H(u({parser:i,key:h,params:b,translations:n,locale:f,fallbackLocale:s},c.hasOwnProperty("fallbackValue")?{fallbackValue:c.fallbackValue}:{}))})),{get:(e,a,...l)=>p(this.l)(e,a,...l)}),this.getLocale=e=>{let{fallbackLocale:a}=p(this.config)||{},l=e||a;if(!l)return;let o=this.locales.get();return o.find(i=>g(l).includes(i))||o.find(i=>g(a).includes(i))},this.setLocale=e=>{if(e&&e!==p(this.internalLocale))return d.debug(`Setting '${e}' locale.`),this.internalLocale.set(e),this.loading.toPromise(e,p(this.currentRoute))},this.setRoute=e=>{if(e!==p(this.currentRoute)){d.debug(`Setting '${e}' route.`),this.currentRoute.set(e);let a=p(this.internalLocale);return this.loading.toPromise(a,e)}},this.loadConfig=async e=>{await this.configLoader(e)},this.getTranslationProps=async(e=this.locale.get(),a=p(this.currentRoute))=>{let l=p(this.config);if(!l||!e)return[];let o=this.translations.get(),{loaders:i,fallbackLocale:s="",cache:c=W}=l||{},n=Number.isNaN(+c)?W:+c;this.cachedAt?Date.now()>n+this.cachedAt&&(d.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(d.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[f,h]=g(e,s),b=o[f],V=o[h],$=(i||[]).map(m=>{var k=m,{locale:R}=k,v=T(k,["locale"]);return y(u({},v),{locale:g(R)[0]})}).filter(({routes:m})=>!m||(m||[]).some(me(a))).filter(({key:m,locale:k})=>k===f&&(!b||!(this.loadedKeys[f]||[]).includes(m))||s&&k===h&&(!V||!(this.loadedKeys[h]||[]).includes(m)));if($.length){this.isLoading.set(!0),d.debug("Fetching translations...");let m=await he($);this.isLoading.set(!1);let k=Object.keys(m).reduce((v,w)=>y(u({},v),{[w]:Object.keys(m[w])}),{}),R=$.filter(({key:v,locale:w})=>(k[w]||[]).some(A=>`${A}`.startsWith(v))).reduce((v,{key:w,locale:A})=>y(u({},v),{[A]:[...v[A]||[],w]}),{});return[m,R]}return[]},this.addTranslations=(e,a)=>{if(!e)return;let l=p(this.config),{preprocess:o}=l||{};d.debug("Adding translations...");let i=Object.keys(e||{});this.privateRawTranslations.update(s=>i.reduce((c,n)=>y(u({},c),{[n]:u(u({},c[n]||{}),e[n])}),s)),this.privateTranslations.update(s=>i.reduce((c,n)=>{let f=!0,h=e[n];return typeof o=="function"&&(h=o(h)),(typeof o=="function"||o==="none")&&(f=!1),y(u({},c),{[n]:u(u({},c[n]||{}),f?E(h,o==="preserveArrays"):h)})},s)),i.forEach(s=>{let c=Object.keys(e[s]).map(n=>`${n}`.split(".")[0]);a&&(c=a[s]),this.loadedKeys[s]=Array.from(new Set([...this.loadedKeys[s]||[],...c||[]]))})},this.loader=async([e,a])=>{let l=this.getLocale(e)||void 0;d.debug(`Adding loader promise for '${l}' locale and '${a}' route.`);let o=(async()=>{let i=await this.getTranslationProps(l,a);i.length&&this.addTranslations(...i)})();this.promises.add({locale:l,route:a,promise:o}),o.then(()=>{l&&this.locale.get()!==l&&this.locale.forceSet(l)})},this.loadTranslations=(e,a=p(this.currentRoute)||"")=>{let l=this.getLocale(e);if(l)return this.setRoute(a),this.setLocale(l),this.loading.toPromise(l,a)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async e=>{e&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),d.debug("Loader promises have been purged."))}),r&&this.loadConfig(r)}async configLoader(r){if(!r)return d.error("No config provided!");let e=r,{initLocale:a,fallbackLocale:l,translations:o,log:i}=e,s=T(e,["initLocale","fallbackLocale","translations","log"]);i&&pe(Y(i)),[a]=g(a),[l]=g(l),d.debug("Setting config."),this.config.set(u({initLocale:a,fallbackLocale:l,translations:o},s)),o&&this.addTranslations(o),a&&await this.loadTranslations(a)}},Z=Object.defineProperty,ve=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,B=(t,r,e)=>r in t?Z(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,O=(t,r)=>{for(var e in r||(r={}))ee.call(r,e)&&B(t,e,r[e]);if(x)for(var e of x(r))ae.call(r,e)&&B(t,e,r[e]);return t},K=(t,r)=>ve(t,ge(r)),_=(t,r)=>{var e={};for(var a in t)ee.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&x)for(var a of x(t))r.indexOf(a)<0&&ae.call(t,a)&&(e[a]=t[a]);return e},be=(t,r)=>{for(var e in r)Z(t,e,{get:r[e],enumerable:!0})},re={};be(re,{ago:()=>Pe,currency:()=>Te,date:()=>Le,eq:()=>M,gt:()=>le,gte:()=>we,lt:()=>te,lte:()=>Oe,ne:()=>ke,number:()=>$e});var S=(t,r)=>{let{modifierDefaults:e}=r||{},{[t]:a}=e||{};return a||{}},M=({value:t,options:r=[],defaultValue:e=""})=>(r.find(({key:a})=>`${a}`.toLowerCase()===`${t}`.toLowerCase())||{}).value||e,ke=({value:t,options:r=[],defaultValue:e=""})=>(r.find(({key:a})=>`${a}`.toLowerCase()!==`${t}`.toLowerCase())||{}).value||e,te=({value:t,options:r=[],defaultValue:e=""})=>(r.sort((a,l)=>+a.key-+l.key).find(({key:a})=>+t<+a)||{}).value||e,le=({value:t,options:r=[],defaultValue:e=""})=>(r.sort((a,l)=>+l.key-+a.key).find(({key:a})=>+t>+a)||{}).value||e,Oe=({value:t,options:r=[],defaultValue:e=""})=>M({value:t,options:r,defaultValue:te({value:t,options:r,defaultValue:e})}),we=({value:t,options:r=[],defaultValue:e=""})=>M({value:t,options:r,defaultValue:le({value:t,options:r,defaultValue:e})}),$e=({value:t,props:r,defaultValue:e="",locale:a="",parserOptions:l})=>{if(!a)return"";let o=S("number",l),{maximumFractionDigits:i}=o,s=_(o,["maximumFractionDigits"]),c=(r==null?void 0:r.number)||{},{maximumFractionDigits:n=i||2}=c,f=_(c,["maximumFractionDigits"]);return new Intl.NumberFormat(a,O(K(O({},s),{maximumFractionDigits:n}),f)).format(+t||+e)},Le=({value:t,props:r,defaultValue:e="",locale:a="",parserOptions:l})=>{if(!a)return"";let o=_(S("date",l),[]),i=_((r==null?void 0:r.date)||{},[]);return new Intl.DateTimeFormat(a,O(O({},o),i)).format(+t||+e)},N=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],oe=(t="",r="")=>new RegExp(`^${t}s?$`).test(r),_e=t=>N.indexOf(N.find(({key:r})=>oe(r,t))),je=(t,r)=>N.reduce(([e,a],{key:l,multiplier:o},i)=>{if(oe(a,r))return[e,a];if(!a||i===_e(a)+1){let s=Math.round(e/o);if(!a||Math.abs(s)>=1||r!=="auto")return[s,l]}return[e,a]},[t,""]),Pe=({value:t,defaultValue:r="",locale:e="",props:a,parserOptions:l})=>{if(!e)return"";let o=S("ago",l),{format:i,numeric:s}=o,c=_(o,["format","numeric"]),n=(a==null?void 0:a.ago)||{},{format:f=i||"auto",numeric:h=s||"auto"}=n,b=_(n,["format","numeric"]),V=+t||+r,$=je(V,f);return new Intl.RelativeTimeFormat(e,O(K(O({},c),{numeric:h}),b)).format(...$)},Te=({value:t,defaultValue:r="",locale:e="",props:a,parserOptions:l})=>{if(!e)return"";let o=S("currency",l),{ratio:i,currency:s}=o,c=_(o,["ratio","currency"]),n=(a==null?void 0:a.currency)||{},{ratio:f=i||1,currency:h=s}=n,b=_(n,["ratio","currency"]);return new Intl.NumberFormat(e,O(K(O({},c),{style:"currency",currency:h}),b)).format(f*(t||r))},Ve=t=>typeof t=="string"&&/{{(?:(?!{{|}}).)+}}/.test(t),C=t=>typeof t=="string"?t.replace(/\\(?=:|;|{|})/g,""):t,Re=({value:t,props:r,payload:e,parserOptions:a,locale:l})=>`${t}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,o=>{let i=C(`${o.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),s=e==null?void 0:e[i],[,c=""]=o.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];c=c||(e==null?void 0:e.default)||"";let[,n=""]=o.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(s===void 0&&n!=="ne")return c;let f=!!n,{customModifiers:h}=a||{},b=O(O({},re),h||{});n=Object.keys(b).includes(n)?n:"eq";let V=b[n],$=(o.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((m,k,R)=>{if(R>0){let v=C(`${k.match(/(?:(?:\\:)|[^:])+/)}`.trim()),w=`${k.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(v&&v!=="default"&&w)return[...m,{key:v,value:w}]}return m},[]);return!f&&!$.length?s:V({value:s,options:$,props:r,defaultValue:c,locale:l,parserOptions:a})}),ie=({value:t,props:r,payload:e,parserOptions:a,locale:l})=>{if(Ve(t)){let o=Re({value:t,payload:e,props:r,parserOptions:a,locale:l});return ie({value:o,payload:e,props:r,parserOptions:a,locale:l})}else return C(t)},Ae=t=>({parse:(r,[e,a],l,o)=>(e!=null&&e.default&&r===void 0&&(r=e.default),r===void 0&&(r=o),ie({value:r,payload:e,props:a,parserOptions:t,locale:l}))}),Ee=Ae,De=Object.defineProperty,xe=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,G=(t,r,e)=>r in t?De(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,Se=(t,r)=>{for(var e in r||(r={}))se.call(r,e)&&G(t,e,r[e]);if(I)for(var e of I(r))ne.call(r,e)&&G(t,e,r[e]);return t},Fe=(t,r)=>xe(t,Ie(r)),Ne=(t,r)=>{var e={};for(var a in t)se.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&I)for(var a of I(t))r.indexOf(a)<0&&ne.call(t,a)&&(e[a]=t[a]);return e},U=t=>{var r=t,{parserOptions:e={}}=r,a=Ne(r,["parserOptions"]);return Fe(Se({},a),{parser:Ee(e)})},Ce=class extends ye{constructor(r){super(r&&U(r)),this.loadConfig=e=>super.configLoader(U(e))}},Ke=Ce;const Me="Francais",ze="English",J={fr:Me,en:ze},He={translations:{fr:{lang:J},en:{lang:J}},loaders:[{locale:"fr",key:"common",loader:async()=>(await L(()=>import("./common.15425ecf.js"),[],import.meta.url)).default},{locale:"fr",key:"home",routes:["/"],loader:async()=>(await L(()=>import("./home.4fa66c48.js"),[],import.meta.url)).default},{locale:"fr",key:"about",routes:["/about"],loader:async()=>(await L(()=>import("./about.afb87ea8.js"),[],import.meta.url)).default},{locale:"fr",key:"projects",routes:["/projects"],loader:async()=>(await L(()=>import("./projects.afb87ea8.js"),[],import.meta.url)).default},{locale:"en",key:"common",loader:async()=>(await L(()=>import("./common.64d5a5ad.js"),[],import.meta.url)).default},{locale:"en",key:"home",routes:["/"],loader:async()=>(await L(()=>import("./home.121c63fd.js"),[],import.meta.url)).default},{locale:"en",key:"about",routes:["/about"],loader:async()=>(await L(()=>import("./about.576e36b7.js"),[],import.meta.url)).default},{locale:"en",key:"projects",routes:["/projects"],loader:async()=>(await L(()=>import("./projects.576e36b7.js"),[],import.meta.url)).default}]},{t:Je,locale:Qe,locales:Xe,loading:Ye,loadTranslations:Ze}=new Ke(He);export{Ze as a,Xe as b,Qe as l,Je as t};
